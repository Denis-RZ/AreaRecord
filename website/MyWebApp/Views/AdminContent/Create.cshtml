@model MyWebApp.Models.Page
@{
    ViewData["Title"] = "Create Page";
    Layout = "../Admin/_AdminLayout";
}
<h2>Create Page</h2>
<form asp-action="Create" method="post">
    <div><label>Slug</label><input asp-for="Slug" /></div>
    <div><label>Title</label><input asp-for="Title" /></div>
    <div>
        <label>Header</label>
        <div id="header-editor" class="quill-editor"></div>
        <input type="hidden" asp-for="HeaderHtml" />
    </div>
    <div>
        <label>Body</label>
        <div id="body-editor" class="quill-editor"></div>
        <input type="hidden" asp-for="BodyHtml" />
    </div>
    <div>
        <label>Footer</label>
        <div id="footer-editor" class="quill-editor"></div>
        <input type="hidden" asp-for="FooterHtml" />
    </div>
    <button type="submit">Save</button>
</form>
<script>
    const headerQuill = new Quill('#header-editor', { theme: 'snow' });
    const bodyQuill = new Quill('#body-editor', { theme: 'snow' });
    const footerQuill = new Quill('#footer-editor', { theme: 'snow' });
    headerQuill.root.innerHTML = document.getElementById('HeaderHtml').value;
    bodyQuill.root.innerHTML = document.getElementById('BodyHtml').value;
    footerQuill.root.innerHTML = document.getElementById('FooterHtml').value;
    document.querySelector('form').addEventListener('submit', function () {
        document.getElementById('HeaderHtml').value = headerQuill.root.innerHTML;
        document.getElementById('BodyHtml').value = bodyQuill.root.innerHTML;
        document.getElementById('FooterHtml').value = footerQuill.root.innerHTML;
    });
</script>
